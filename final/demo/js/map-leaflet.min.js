function createCityPopup(a,b){var c=a.properties.NAME+", "+a.properties.STATE+"<br> pop. "+parseInt(a.properties.POP_2010).toLocaleString();b.bindPopup(c),cities.addLayer(b)}function createCityIcon(a,b){var c={radius:8,fillColor:"lightgreen",color:"black",weight:1,opacity:1,fillOpacity:.8};return L.circleMarker(b,c)}function createEarthquakePopup(a,b){var c='<a target="_blank" href="'+a.properties.url+'">'+a.properties.mag+" magnitude, "+a.properties.place+' <small><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></small></a>';b.bindPopup(c),earthquakes.addLayer(b)}function createEarthquakeIcon(a,b){var c=L.icon({iconUrl:"images/earthquake-marker.png",shadowUrl:"images/earthquake-marker-shadow.png",iconSize:[25,25],shadowSize:[35,20],iconAnchor:[12,12],shadowAnchor:[12,6],popupAnchor:[0,0]});return L.marker(b,{icon:c})}var map=L.map("leaflet-map",{zoomControl:!1}).setView([30,-90],3),streets=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map),satellite=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"),cities=L.layerGroup().addTo(map),earthquakes=L.layerGroup().addTo(map),basemapControl={Streets:streets,Satellite:satellite},layerControl={Earthquakes:earthquakes,Cities:cities};L.control.layers(basemapControl,layerControl).addTo(map),L.Control.zoomHome().addTo(map),$.getJSON("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson",function(a){L.geoJSON(a,{onEachFeature:createEarthquakePopup,pointToLayer:createEarthquakeIcon})}),$.getJSON("https://geog4046.github.io/final/demo/data/cities_pop_100k.geojson",function(a){L.geoJSON(a,{onEachFeature:createCityPopup,pointToLayer:createCityIcon})});
